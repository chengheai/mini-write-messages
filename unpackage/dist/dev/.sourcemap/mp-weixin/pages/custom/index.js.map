{"version":3,"sources":["webpack:////Users/chengheai/code/private/write-messages/pages/custom/index.vue?c665","webpack:////Users/chengheai/code/private/write-messages/pages/custom/index.vue?681e","webpack:////Users/chengheai/code/private/write-messages/pages/custom/index.vue?9a68","webpack:////Users/chengheai/code/private/write-messages/pages/custom/index.vue?1bfb","uni-app:///pages/custom/index.vue","webpack:////Users/chengheai/code/private/write-messages/pages/custom/index.vue?2a0c","webpack:////Users/chengheai/code/private/write-messages/pages/custom/index.vue?17d8"],"names":[],"mappings":"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","file":"pages/custom/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=63eafbad&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=63eafbad&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63eafbad\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/custom/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=63eafbad&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniDataCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox\" */ \"@/uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupMessage: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-message/uni-popup-message\" */ \"@/uni_modules/uni-popup/components/uni-popup-message/uni-popup-message.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"x-content\">\r\n\t\t<lunar-date style=\"width: 100%;\" />\r\n\t\t<view class=\"form-wrapper\">\r\n\t\t\t<!-- 内容 -->\r\n\t\t\t<view class=\"uni-textarea\"><textarea v-model=\"form.content\" placeholder-style=\"color:#13c2c2\" :auto-blur=\"true\" maxlength=\"-1\" :placeholder=\"words[radomIndex]\" /></view>\r\n\t\t\t<!-- 图片 -->\r\n\t\t\t<view class=\"img-list\">\r\n\t\t\t\t<view v-for=\"(i, index) in form.imgs\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"item-img mr20\">\r\n\t\t\t\t\t\t<image :src=\"RES_ROOT + i\" mode=\"aspectFit\" @click.native.stop=\"preImg(RES_ROOT + i)\"></image>\r\n\t\t\t\t\t\t<uni-icons type=\"close\" color=\"#606266\" size=\"20\" class=\"del-btn\" @click=\"handleDel(index, i)\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"form.imgs.length < 2\" class=\"uni-hello-addfile f-c-c-c\" @click=\"handleChooseImage\">\r\n\t\t\t\t\t<uni-icons type=\"plusempty\" color=\"#606266\" size=\"24\" class=\"mb12\"></uni-icons>\r\n\t\t\t\t\t<text>选择图片</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 位置 -->\r\n\t\t\t<view class=\"map\" @click=\"handleSelLocaltion\">\r\n\t\t\t\t<view class=\"map-item\">\r\n\t\t\t\t\t<uni-icons :type=\"mapIcon\" :color=\"mapColor\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t<text :style=\"{ color: mapColor }\">{{ mapAddress }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<uni-icons class=\"map-action\" @click.native.stop=\"handleClearLocaltion\" :type=\"actionIcon\" color=\"#ccc\" size=\"20\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<!-- 是否公开 -->\r\n\t\t\t<view class=\"public-wrapper\"><uni-data-checkbox v-model=\"form.public\" :localdata=\"types\" /></view>\r\n\t\t\t<view class=\"sub-wrp\"><x-login @submit=\"handleSubmit\" /></view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"popup\" type=\"message\"><uni-popup-message type=\"error\" :message=\"errMsg\" :duration=\"2000\"></uni-popup-message></uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { BASE_URL } from '@/utils/http';\r\nimport { RES_ROOT } from '@/utils/http';\r\nimport lunarDate from '@/components/lunarDate.vue';\r\nimport xLogin from '@/components/xLogin.vue';\r\nimport logo from '@/static/logo.png';\r\nlet mapObj = {\r\n\tcolor: '#ccc',\r\n\tsize: '20',\r\n\ttype: 'location'\r\n};\r\nexport default {\r\n\tcomponents: {\r\n\t\tlunarDate,\r\n\t\txLogin\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\twords: [\r\n\t\t\t\t'路就在脚下，你无力改变终点，但却能决定脚踏出的方向',\r\n\t\t\t\t'热情和欲望可以突破一切难关',\r\n\t\t\t\t'忘记失败的痛苦，铭记失败的原因',\r\n\t\t\t\t'要成功，不要与马赛跑，要骑在马上，马上成功',\r\n\t\t\t\t'当一个人真正觉悟的一刻，他放下追寻外在世界的财富，而开始追寻他内心世界的真正财富'\r\n\t\t\t],\r\n\t\t\tradomIndex: 0,\r\n\t\t\ttypes: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: '寄语墙',\r\n\t\t\t\t\tvalue: 1\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: '私密寄语',\r\n\t\t\t\t\tvalue: 0\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\thasLocaltion: false,\r\n\t\t\terrMsg: '请输入寄语',\r\n\t\t\tRES_ROOT,\r\n\t\t\tform: {\r\n\t\t\t\tcontent: '',\r\n\t\t\t\timgs: [],\r\n\t\t\t\taddress: {},\r\n\t\t\t\tpublic: 1\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tmapColor() {\r\n\t\t\treturn this.hasLocaltion ? 'green' : '#ccc';\r\n\t\t},\r\n\t\tmapIcon() {\r\n\t\t\treturn this.hasLocaltion ? 'location-filled' : 'location';\r\n\t\t},\r\n\t\tactionIcon() {\r\n\t\t\treturn this.hasLocaltion ? 'close' : 'forward';\r\n\t\t},\r\n\t\tmapAddress() {\r\n\t\t\treturn this.hasLocaltion ? this.form.address.name : '选择位置信息';\r\n\t\t}\r\n\t},\r\n\tonShow() {\r\n\t\tthis.radomIndex = Math.round(Math.random() * 4) + 0;\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.resetForm();\r\n\t\t});\r\n\t},\r\n\t// onShareAppMessage: function(options) {\r\n\t// \tvar that = this; // 设置菜单中的转发按钮触发转发事件时的转发内容\r\n\t// \tvar shareObj = {\r\n\t// \t\ttitle: '写诗、写实、写史、写事', // 默认是小程序的名称(可以写slogan等)\r\n\t// \t\tpath: '/pages/index/index', // 默认是当前页面，必须是以‘/’开头的完整路径\r\n\t// \t\timgUrl: share, //自定义图片路径，可以是本地文件路径、代码包文件路径或者网络图片路径，支持PNG及JPG，不传入 imageUrl 则使用默认截图。显示图片长宽比是 5:4\r\n\t// \t\tsuccess: function(res) {\r\n\t// \t\t\t// 转发成功之后的回调\r\n\t// \t\t\tif (res.errMsg == 'shareAppMessage:ok') {\r\n\t// \t\t\t\tconsole.log('分享ok');\r\n\t// \t\t\t}\r\n\t// \t\t},\r\n\t// \t\tfail: function() {\r\n\t// \t\t\t// 转发失败之后的回调\r\n\t// \t\t\tif (res.errMsg == 'shareAppMessage:fail cancel') {\r\n\t// \t\t\t\t// 用户取消转发\r\n\t// \t\t\t} else if (res.errMsg == 'shareAppMessage:fail') {\r\n\t// \t\t\t\t// 转发失败，其中 detail message 为详细失败信息\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t}; // 来自页面内的按钮的转发\r\n\t// \tif (options.from == 'button') {\r\n\t// \t\tvar eData = options.target.dataset;\r\n\t// \t\tconsole.log(eData.name); // shareBtn // 此处可以修改 shareObj 中的内容\r\n\t// \t\tshareObj.path = '/pages/btnname/btnname?btn_name=' + eData.name;\r\n\t// \t} // 返回shareObj\r\n\t// \treturn shareObj;\r\n\t// },\r\n\tmethods: {\r\n\t\t// 重置\r\n\t\tresetForm() {\r\n\t\t\tthis.form.content = '';\r\n\t\t\tthis.form.imgs = [];\r\n\t\t\tthis.form.address = {};\r\n\t\t\tthis.form.public = 1;\r\n\t\t\tthis.hasLocaltion = false;\r\n\t\t},\r\n\t\t// 清除位置\r\n\t\thandleClearLocaltion() {\r\n\t\t\tif (!this.hasLocaltion) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.hasLocaltion = false;\r\n\t\t\tthis.form.address = {};\r\n\t\t},\r\n\t\t// 提交\r\n\t\tasync handleSubmit() {\r\n\t\t\tlet query = {\r\n\t\t\t\t...this.form,\r\n\t\t\t\taddress: JSON.stringify(this.form.address),\r\n\t\t\t\timgs: this.form.imgs.join(',')\r\n\t\t\t};\r\n\t\t\tif (this.form.content === '') {\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.form.content.length > 800) {\r\n\t\t\t\tthis.errMsg = '寄语长度不能超过800字';\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// if (this.form.content.length > 5) {\r\n\t\t\t// \tthis.errMsg ='请输入不小于5个字的寄语'\r\n\t\t\t// \tthis.$refs.popup.open();\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\t\t\tconst { code, result } = await this.$api.article.addArticle(query);\r\n\t\t\tif (code === 200) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '创建成功',\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\tduration: 1500\r\n\t\t\t\t});\r\n\t\t\t\tthis.resetForm();\n\t\t\t\tuni.setStorageSync('tabIndex',0)\n\t\t\t\tuni.redirectTo({\n\t\t\t\t\turl:'../index/index'\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 选位置\r\n\t\thandleSelLocaltion() {\r\n\t\t\tuni.chooseLocation({\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.form.address = Object.assign({}, res);\r\n\t\t\t\t\tthis.hasLocaltion = true;\r\n\t\t\t\t\tmapObj = Object.assign(mapObj, { type: 'location-filled', color: 'green' });\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 删除\r\n\t\thandleDel(index, row) {\r\n\t\t\tthis.form.imgs.splice(index, 1);\r\n\t\t\tconsole.log(index, row);\r\n\t\t},\r\n\t\t// 预览\r\n\t\tpreImg(logourl) {\r\n\t\t\tlet imgsArray = [];\r\n\t\t\timgsArray[0] = logourl;\r\n\t\t\tuni.previewImage({\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\turls: imgsArray\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 上传\r\n\t\thandleChooseImage() {\r\n\t\t\tlet that = this;\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 2,\r\n\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tconsole.log('chooseImage success, temp path is', res.tempFilePaths[0]);\r\n\t\t\t\t\tvar imageSrc = res.tempFilePaths[0];\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl: `${BASE_URL}/api/file/upload`,\r\n\t\t\t\t\t\tfilePath: imageSrc,\r\n\t\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\tprefix: that.$dayjs().format('YYYYMMDD')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tconsole.log('uploadImage success, res is:', res);\r\n\t\t\t\t\t\t\tconst { code, result } = JSON.parse(res.data);\r\n\t\t\t\t\t\t\tif (code === 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '图片上传成功',\r\n\t\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthat.form.imgs.push(result);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\tconsole.log('uploadImage fail', err);\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: err.errMsg,\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: err => {\r\n\t\t\t\t\tconsole.log('chooseImage fail', err);\r\n\t\t\t\t\t// #ifdef MP\r\n\t\t\t\t\tuni.getSetting({\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tlet authStatus = res.authSetting['scope.album'];\r\n\t\t\t\t\t\t\tif (!authStatus) {\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '授权失败',\r\n\t\t\t\t\t\t\t\t\tcontent: '写寄语需要从您的相册获取图片，请在设置界面打开相关权限',\r\n\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.openSetting();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.flex {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.x-content {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tbackground: #f5f5f5;\n\toverflow-y: auto;\r\n\t.form-wrapper {\r\n\t\twidth: 100%;\r\n\t\t// background-color: #fff;\r\n\t\t.uni-textarea {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding: 20rpx 15rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\ttextarea {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 500rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.img-list {\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 20rpx 15rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\talign-items: center;\r\n\t\t\t.item-img {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 150rpx;\r\n\t\t\t\theight: 150rpx;\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t\t.del-btn {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tright: -20rpx;\r\n\t\t\t\t\ttop: -20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.uni-hello-addfile {\r\n\t\t\twidth: 150rpx;\r\n\t\t\theight: 150rpx;\r\n\t\t\tbackground-color: #f4f5f6;\r\n\t\t\tcolor: #606266;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t}\r\n\t\t.public-wrapper {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tpadding: 10rpx 15rpx;\r\n\t\t\t// padding-bottom: 48rpx;\r\n\t\t}\r\n\t\t.sub-wrp {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tpadding-top: 48rpx;\n\t\t\t// margin-bottom: 100rpx;\n\t\t\t// box-sizing: border-box;\r\n\t\t}\r\n\t\t.map {\r\n\t\t\t@extend .flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 30rpx 15rpx;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t&-item {\r\n\t\t\t\tcolor: #c8c7cc;\r\n\t\t\t\t@extend .flex;\r\n\t\t\t\ttext {\r\n\t\t\t\t\tmargin-left: 15rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&-action {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=63eafbad&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=63eafbad&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1634303017737\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}