(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/index"],{"07bb":function(A,t,n){"use strict";var e=n("dd92"),o=n.n(e);o.a},5993:function(A,t,n){"use strict";n.r(t);var e=n("e981"),o=n.n(e);for(var r in e)"default"!==r&&function(A){n.d(t,A,(function(){return e[A]}))}(r);t["default"]=o.a},"63a1":function(A,t,n){"use strict";n.r(t);var e=n("d5ce"),o=n("5993");for(var r in o)"default"!==r&&function(A){n.d(t,A,(function(){return o[A]}))}(r);n("07bb");var i,a=n("f0c5"),c=Object(a["a"])(o["default"],e["b"],e["c"],!1,null,"5b2c84ee",null,!1,e["a"],i);t["default"]=c.exports},"7ca2":function(A,t,n){"use strict";(function(A){n("c0b0");e(n("66fd"));var t=e(n("63a1"));function e(A){return A&&A.__esModule?A:{default:A}}A(t.default)}).call(this,n("543d")["createPage"])},d5ce:function(A,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return e}));var e={uniIcons:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(n.bind(null,"cd5a"))},uniLoadMore:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(n.bind(null,"bceb"))}},o=function(){var A=this,t=A.$createElement;A._self._c},r=[]},dd92:function(A,t,n){},e981:function(A,t,n){"use strict";(function(A){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=r(n("a34a")),o=r(n("4cdd"));function r(A){return A&&A.__esModule?A:{default:A}}function i(A,t,n,e,o,r,i){try{var a=A[r](i),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(e,o)}function a(A){return function(){var t=this,n=arguments;return new Promise((function(e,o){var r=A.apply(t,n);function a(A){i(r,e,o,a,c,"next",A)}function c(A){i(r,e,o,a,c,"throw",A)}a(void 0)}))}}var c=function(){Promise.all([n.e("common/vendor"),n.e("components/xCard")]).then(function(){return resolve(n("125a"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/xEmpty").then(function(){return resolve(n("7705"))}.bind(null,n)).catch(n.oe)},s=function(){Promise.all([n.e("common/vendor"),n.e("components/xLogin")]).then(function(){return resolve(n("f6ca"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/xTips").then(function(){return resolve(n("1093"))}.bind(null,n)).catch(n.oe)},f="data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYG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",d={components:{xCard:c,xEmpty:u,xLogin:s,xTips:l},data:function(){return{hasLogin:!1,initLoad:!1,base64Avatar:f,list:[],resList:[],total:0,status:"more",from:{page:1,pageSize:10,userId:""},userInfo:{}}},computed:{hasData:function(){return 0!==this.list.length},integral:function(){return Math.ceil(.58936*this.total)}},onShareAppMessage:function(A){var t={title:"写诗、写实、写史、写事",path:"/pages/index/index",imgUrl:o.default,success:function(A){"shareAppMessage:ok"==A.errMsg&&console.log("分享ok")},fail:function(){"shareAppMessage:fail cancel"==res.errMsg||res.errMsg}};if("button"==A.from){var n=A.target.dataset;console.log(n.name),t.path="/pages/btnname/btnname?btn_name="+n.name}return t},onShow:function(){var A=this;return a(e.default.mark((function t(){return e.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return A.initLoad=!0,t.next=3,A.getUser();case 3:A.getData();case 4:case"end":return t.stop()}}),t)})))()},onReachBottom:function(){var A=this;console.log("onReachBottom"),this.initLoad=!1,0!==this.resList.length?(this.status="loading",setTimeout((function(){A.from.page++,A.getData()}),300)):this.status="noMore"},onPullDownRefresh:function(){var t=this;return a(e.default.mark((function n(){return e.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.from.page=1,t.getData(),setTimeout((function(){A.stopPullDownRefresh()}),300);case 3:case"end":return n.stop()}}),n)})))()},methods:{handleSubmit:function(){var A=this;return a(e.default.mark((function t(){return e.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.getUser();case 2:A.getData();case 3:case"end":return t.stop()}}),t)})))()},handleFav:function(){var A=this;this.$refs.myTip.tipVisible=!0,setTimeout((function(){A.$refs.myTip.tipVisible=!1}),5e3),console.log(this.$refs.myTip)},handleRules:function(){A.showModal({showCancel:!1,confirmText:"知道了",title:"积分规则",content:"积分计算规则根据寄语条数、寄语系数、寄语点赞数、寄语举报数、用户活跃度综合计算打分。"})},handleReload:function(){this.from.page=1,this.getData()},getUser:function(){var A=this;return a(e.default.mark((function t(){return e.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:A.$api.user.fetchUser().then((function(t){var n=t.code,e=t.result;200===n&&(A.hasLogin=!0,A.userInfo=e,A.from.userId=e._id)})).catch((function(t){A.hasLogin=!1,console.log("err")}));case 1:case"end":return t.stop()}}),t)})))()},getData:function(){var A=this;return a(e.default.mark((function t(){var n,o,r,i,a,c,u;return e.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.$api.article.fetchList(A.from);case 2:n=t.sent,o=n.code,r=n.result,i=r.data,a=r.total,200===o&&(A.resList=i,A.total=a,c=[],0===A.list.length?A.list=i:(A.list=A.list.map((function(A){return i.find((function(t){return t._id===A._id}))||A})),u=A.list.map((function(A){return A._id})),c=i.filter((function(A){return!u.includes(A._id)}))),A.initLoad?A.list=(0===A.list.length?i:c).concat(A.list):A.list=A.list.concat(0===A.list.length?i:c),0===i.length&&(A.status="noMore"));case 8:case"end":return t.stop()}}),t)})))()}}};t.default=d}).call(this,n("543d")["default"])}},[["7ca2","common/runtime","common/vendor"]]]);