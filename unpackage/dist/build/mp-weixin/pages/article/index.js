(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/article/index"],{1708:function(t,n,e){"use strict";(function(t){e("c0b0");o(e("66fd"));var n=o(e("1985"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},1985:function(t,n,e){"use strict";e.r(n);var o=e("571b"),r=e("ef53");for(var u in r)"default"!==u&&function(t){e.d(n,t,(function(){return r[t]}))}(u);e("8ab5");var i,a=e("f0c5"),c=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);n["default"]=c.exports},"571b":function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return o}));var o={uniLoadMore:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(e.bind(null,"bceb"))}},r=function(){var t=this,n=t.$createElement;t._self._c},u=[]},"8a14":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function u(t,n,e,o,r,u,i){try{var a=t[u](i),c=a.value}catch(s){return void e(s)}a.done?n(c):Promise.resolve(c).then(o,r)}function i(t){return function(){var n=this,e=arguments;return new Promise((function(o,r){var i=t.apply(n,e);function a(t){u(i,o,r,a,c,"next",t)}function c(t){u(i,o,r,a,c,"throw",t)}a(void 0)}))}}var a=function(){Promise.all([e.e("common/vendor"),e.e("components/xCard")]).then(function(){return resolve(e("125a"))}.bind(null,e)).catch(e.oe)},c=function(){e.e("components/xEmpty").then(function(){return resolve(e("7705"))}.bind(null,e)).catch(e.oe)},s={components:{xCard:a,xEmpty:c},data:function(){return{status:"more",initLoad:!1,from:{page:1,pageSize:10,public:"1"},list:[],resList:[]}},computed:{hasData:function(){return 0!==this.list.length}},onShow:function(){var n=this;return i(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.initLoad=!0,setTimeout((function(){console.log("start pulldown")}),1e3),t.startPullDownRefresh();case 3:case"end":return e.stop()}}),e)})))()},onReachBottom:function(){var t=this;console.log("onReachBottom"),this.initLoad=!1,0!==this.resList.length?(this.status="loading",setTimeout((function(){t.from.page++,t.getData()}),300)):this.status="noMore"},onPullDownRefresh:function(){var n=this;return i(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.from.page=1,n.getData(),setTimeout((function(){t.stopPullDownRefresh()}),300);case 3:case"end":return e.stop()}}),e)})))()},methods:{handleReload:function(){var t=this;return i(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.from.page=1,t.getData();case 2:case"end":return n.stop()}}),n)})))()},getData:function(){var t=this;return i(o.default.mark((function n(){var e,r,u,i,a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$api.article.fetchList(t.from);case 2:e=n.sent,r=e.code,u=e.result.data,200===r&&(t.resList=u,i=[],0===t.list.length?t.list=u:(t.list=t.list.map((function(t){return u.find((function(n){return n._id===t._id}))||t})),a=t.list.map((function(t){return t._id})),i=u.filter((function(t){return!a.includes(t._id)}))),t.initLoad?t.list=(0===t.list.length?u:i).concat(t.list):t.list=t.list.concat(0===t.list.length?u:i),0===u.length&&(t.status="noMore"));case 6:case"end":return n.stop()}}),n)})))()}}};n.default=s}).call(this,e("543d")["default"])},"8ab5":function(t,n,e){"use strict";var o=e("bf53"),r=e.n(o);r.a},bf53:function(t,n,e){},ef53:function(t,n,e){"use strict";e.r(n);var o=e("8a14"),r=e.n(o);for(var u in o)"default"!==u&&function(t){e.d(n,t,(function(){return o[t]}))}(u);n["default"]=r.a}},[["1708","common/runtime","common/vendor"]]]);